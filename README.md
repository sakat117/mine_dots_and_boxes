# Mine Dots and Boxes (Avalonia Edition)

定番の頭脳戦ゲーム「ドット＆ボックス（陣取りゲーム）」に、「マインスイーパー」の緊張感をプラスした戦略パズルゲームです。
F# と Avalonia UI で構築されています。

## 🎮 ゲームルール

1.  **目的**: 対戦相手よりも多くの「箱（ボックス）」を獲得すること。
2.  **ターン**: プレイヤーは交代で、隣り合うドットの間に線を1本ずつ引きます。
3.  **得点**: 線を引いて箱を完成させると、そのプレイヤーの陣地となり、**もう一度続けて線を引けます**。
4.  **💣 独自ルール（爆弾）**:
    *   いくつかの箱には、隠された**爆弾**が仕掛けられています。
    *   もし爆弾が入っている箱を完成させてしまうと、そのプレイヤーは**即死（脱落）**します。
    *   **警告システム**: 爆弾がある箱の周りに線を引くと、その線が**赤と黄色に点滅**して危険を知らせてくれます（ただし、その箱がまだ誰にも取られていない場合のみ）。

## ✨ 特徴

*   **自由な設定**:
    *   グリッドサイズ（行数・列数）を自由に変更可能。
    *   プレイヤー人数（2〜8人）。
    *   爆弾の数。
*   **カスタマイズ**: 各プレイヤーの色をRGBスライダーで自由に設定可能。
*   **モダンなUI**: Avalonia UI による美しく滑らかなインターフェース。
*   **快適な操作性**: 線に吸い付くようなクリック判定で、ストレスなくプレイできます。

## 🚀 実行方法

### 必要環境
*   [.NET 8.0 SDK](https://dotnet.microsoft.com/download)

### セットアップと起動
1.  プロジェクトのディレクトリに移動します:
    ```bash
    cd MineDotsAndBoxesAvalonia
    ```
2.  ゲームを起動します:
    ```bash
    dotnet run
    ```

## 🕹️ 操作方法

*   **マウス左クリック**: 線を引く、ボタン操作。
*   **ESC**: 設定画面に戻る（ゲーム中）。
*   **R**: 現在の設定でリスタートする（ゲーム中）。

## 🛠️ 技術スタック

*   **言語**: F#
*   **フレームワーク**: Avalonia UI (クロスプラットフォームGUI)
*   **アーキテクチャ**: MVU (Model-View-Update) パターン (`Avalonia.FuncUI` 使用)
*   **スタイル**: `Program.fs` への単一ファイル実装（移植性とAIによる可読性を最大化）。